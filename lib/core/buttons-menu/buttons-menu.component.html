<div fxShow fxHide.xs="true" *ngIf="hasButtons()" id="adf-buttons-menu">
    <ng-container *ngFor="let button of buttons">
        <ng-container *ngTemplateOutlet="desktopMenu; context: button"></ng-container>
     </ng-container>
</div>
<div fxHide fxShow.xs="true" *ngIf="hasButtons()" id="adf-buttons-menu">
    <button mat-icon-button [matMenuTriggerFor]="editReportMenu">
        <mat-icon>more_vert</mat-icon>
    </button>
    <mat-menu #editReportMenu="matMenu">
        <ng-container *ngFor="let button of buttons">
           <ng-container *ngTemplateOutlet="mobileMenu; context:button"></ng-container>
        </ng-container>
    </mat-menu>
</div>

<ng-template #desktopMenu let-handler="handler" let-icon="icon" let-label="label" let-styles="styles" let-id="id" let-isVisible="isVisible">
    <button mat-button (click)="handler()" id="{{id}}" *ngIf="isVisible()" class="styles">
        <mat-icon>{{icon}}</mat-icon>
    </button>
</ng-template>

<ng-template #mobileMenu let-handler="handler" let-icon="icon" let-label="label" let-styles="styles" let-id="id" let-isVisible="isVisible">
    <button mat-menu-item (click)="handler()" id="{{id}}" *ngIf="isVisible()" class="styles">
        <mat-icon>{{icon}}</mat-icon><span>{{label | translate}}</span>
    </button>
</ng-template>
