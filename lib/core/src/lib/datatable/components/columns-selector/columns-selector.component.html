<div
    class="adf-columns-selector"
    role="presentation"
    data-automation-id="adf-columns-selector"
    (keyup.enter)="$event.stopPropagation()"
    (click)="$event.stopPropagation();"
>
    <div class="adf-columns-selector-header">
        <span class="adf-columns-selector-header-label">
            {{"ADF-DATATABLE.COLUMNS_SELECTOR.COLUMNS" | translate}}
        </span>

        <button
            data-automation-id="adf-columns-selector-close-button"
            mat-icon-button
            role="menuitem"
            [attr.aria-label]="'CLOSE' | translate"
            (click)="closeMenu()"
        >
            <mat-icon>close</mat-icon>
        </button>
    </div>

    <mat-divider class="adf-columns-selector-divider" />

    <div class="adf-columns-selector-search-input-container">
        <mat-icon
            class="adf-columns-selector-search-input-icon">
            search
        </mat-icon>

        <input
            [formControl]="searchInputControl"
            class="adf-columns-selector-search-input"
            data-automation-id="adf-columns-selector-search-input"
            type="text"
            role="menuitem"
            [placeholder]='"ADF-DATATABLE.COLUMNS_SELECTOR.SEARCH" | translate'>
    </div>

    <div class="adf-columns-selector-list-container">
        <div *ngFor="let column of (columnItems | columnsSearchFilter: searchQuery)" class="adf-columns-selector-list-item">
            <mat-checkbox
                color="primary"
                class="adf-columns-selector-column-checkbox"
                [attr.data-automation-id]="'adf-columns-selector-column-checkbox-' + column.title"
                [checked]="!column.isHidden"
                role="menuitem"
                [disabled]="isCheckboxDisabled(column)"
                (keydown.enter)="changeColumnVisibility(column)"
                (change)="changeColumnVisibility(column)">
                <div class="adf-columns-selector-list-content">
                    {{column.title | translate}}
                </div>
                <div
                    *ngIf="column.subtitle"
                    class="
                        adf-columns-selector-list-content
                        adf-columns-selector-subtitle
                    "
                >
                    <span>
                        {{column.subtitle | translate}}
                    </span>
                </div>
            </mat-checkbox>
        </div>
    </div>

    <mat-divider class="adf-columns-selector-divider" />

    <div class="adf-columns-selector-footer">
        <button
            mat-flat-button
            role="menuitem"
            data-automation-id="adf-columns-selector-apply-button"
            color="primary"
            (click)="apply()">
            {{"ADF-DATATABLE.COLUMNS_SELECTOR.APPLY" | translate}}
        </button>
    </div>
</div>
