<ol *ngIf="breadcrumb" data-automation-id="breadcrumb" class="breadcrumb">
    <li *ngFor="#r of route; #last = last" [class.active]="last" [ngSwitch]="last">
        <span *ngSwitchWhen="true">{{r.name}}</span>
        <a *ngSwitchDefault href="#" [attr.data-automation-id]="'breadcrumb_' + r.name" (click)="goToRoute(r, $event)">{{r.name}}</a>
    </li>
</ol>
<table *ngIf="folder" class="mdl-data-table mdl-js-data-table mdl-shadow--2dp full-width">
    <thead>
    <tr>
        <!-- Columns -->
        <th class="mdl-data-table__cell--non-numeric non-selectable {{col.cssClass}}"
            *ngFor="#col of columns"
            [class.column-header]="col.title"
            [attr.data-automation-id]="'auto_id_' + col.source"
            [class.mdl-data-table__header--sorted-ascending]="sorting.key === col.source && sorting.direction === 'asc'"
            [class.mdl-data-table__header--sorted-descending]="sorting.key === col.source && sorting.direction === 'desc'"
            (click)="onColumnHeaderClick(col)">
            <span *ngIf="col.srTitle" class="sr-only">{{col.srTitle}}</span>
            <span *ngIf="col.title">{{col.title}}</span>
        </th>
        <!-- Actions -->
        <th>
            <span class="sr-only">Actions</span>
        </th>
    </tr>
    </thead>
    <tbody>
    <tr *ngIf="canNavigateParent()"
        data-automation-id="folder_up_row"
        class="parent-folder-link"
        (click)="onNavigateParentClick($event)"
        (dblclick)="onNavigateParentDblClick($event)">
        <td [attr.colspan]="1 + columns?.length" class="non-selectable">
            <button class="mdl-button mdl-js-button mdl-button--icon">
                <i data-automation-id="folder_up_icon" class="material-icons">arrow_upward</i>
            </button>
        </td>
    </tr>

    <tr *ngFor="#content of folder.list.entries; #idx = index"
        [attr.data-automation-id]="getObjectValue(content.entry, 'name')">
        <!-- Columns -->
        <td *ngFor="#col of columns" [ngSwitch]="col.type"
            class="mdl-data-table__cell--non-numeric non-selectable data-cell {{col.cssClass}}"
            (click)="onItemClick(content, $event)"
            (dblclick)="onItemDblClick(content, $event)"
            [attr.data-automation-id]="col.source === '$thumbnail' ? '$thumbnail' : col.source + '_' + getObjectValue(content.entry, col.source)">
            <div *ngSwitchWhen="'image'" class="cell-value">
                <img class="thumbnail" [src]="getCellValue(content, col)">
            </div>
            <span *ngSwitchWhen="'date'" class="cell-value">
                {{ getCellValue(content, col) }}
            </span>
            <span *ngSwitchDefault class="cell-value">
                {{ getCellValue(content, col) }}
            </span>
        </td>

        <!-- Actions: folder -->
        <td *ngIf="content.entry.isFolder">
            <!-- action buttons -->
            <button class="mdl-button mdl-js-button mdl-button--icon"
                    *ngFor="#action of getContentActions('folder', 'button')"
                    (click)="executeContentAction(content, action)">
                <i class="material-icons">{{action.icon}}</i>
            </button>

            <!-- action menu -->
            <button [id]="'folder_action_menu_' + idx" class="mdl-button mdl-js-button mdl-button--icon">
                <i class="material-icons">more_vert</i>
            </button>
            <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect"
                [attr.for]="'folder_action_menu_' + idx">
                <li class="mdl-menu__item"
                    [attr.data-automation-id]="action.title"
                    *ngFor="#action of getContentActions('folder', 'menu')"
                    (click)="executeContentAction(content, action)">
                    {{action.title}}
                </li>
            </ul>
        </td>
        <!-- Actions: document -->
        <td *ngIf="!content.entry.isFolder">
            <!-- action buttons -->
            <button class="mdl-button mdl-js-button mdl-button--icon"
                    *ngFor="#action of getContentActions('document', 'button')"
                    (click)="executeContentAction(content, action)">
                <i class="material-icons">{{action.icon}}</i>
            </button>

            <!-- action menu -->
            <button [id]="'document_action_menu_' + idx" class="mdl-button mdl-js-button mdl-button--icon">
                <i class="material-icons">more_vert</i>
            </button>
            <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect"
                [attr.for]="'document_action_menu_' + idx">
                <li class="mdl-menu__item"
                    [attr.data-automation-id]="action.title"
                    *ngFor="#action of getContentActions('document', 'menu')"
                    (click)="executeContentAction(content, action)">
                    {{action.title}}
                </li>
            </ul>
        </td>
    </tr>

    <tr *ngIf="folder?.list?.entries?.length === 0">
        <td class="mdl-data-table__cell--non-numeric empty-folder-content"
            [attr.colspan]="1 + columns?.length">
            <template *ngIf="emptyFolderTemplate"
                      ngFor [ngForOf]="[folder]"
                      [ngForTemplate]="emptyFolderTemplate">
            </template>
            <img *ngIf="!emptyFolderTemplate"
                 [src]="__baseUrl + '/img/document-list.empty-folder.png'">
        </td>
    </tr>

    </tbody>
</table>
