<form #f="ngForm" (ngSubmit)="onSearch(f.value)" class="adf-search-form">
    <div class="adf-search-container"
        [@transitionMessages]="_subscriptAnimationState">
        <button md-button
            (click)="onClickSearch()"
            *ngIf="expandable"
            class="adf-search-button">
            <md-icon aria-label="search button">search</md-icon>
        </button>
        <div class="search-field">
            <md-input-container>
                <input
                    mdInput
                    [type]="inputType"
                    [autocomplete]="getAutoComplete()"
                    data-automation-id="search_input"
                    #searchInput
                    id="searchControl"
                    [formControl]="searchControl"
                    [(ngModel)]="searchTerm"
                    (focus)="onFocus($event)"
                    (blur)="onBlur($event)"
                    (keyup.escape)="onEscape()"
                    (keyup.arrowdown)="onArrowDown()"
                    aria-labelledby="searchLabel">
                <!--label id="searchLabel" for="searchControl">{{'SEARCH.CONTROL.LABEL' | translate}}</label-->
            </md-input-container>
        </div>
    </div>
</form>
<adf-search-autocomplete
    #autocomplete
    *ngIf="liveSearchEnabled"
    [searchTerm]="liveSearchTerm"
    [rootNodeId]="liveSearchRoot"
    [resultType]="liveSearchResultType"
    [resultSort]="liveSearchResultSort"
    [maxResults]="liveSearchMaxResults"
    [highlight]="highlight"
    [class.adf-active-search]="searchActive"
    [class.adf-valid-search]="searchValid"
    (fileSelect)="onFileClicked($event)"
    (searchFocus)="onAutoCompleteFocus($event)"
    (scrollBack)="onAutoCompleteReturn($event)"
    (cancel)="onAutoCompleteCancel($event)">
</adf-search-autocomplete>
