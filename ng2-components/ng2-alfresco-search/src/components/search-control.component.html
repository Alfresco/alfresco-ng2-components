<form #f="ngForm" (ngSubmit)="onSearch(f.value)" class="adf-search-form">
    <div class="adf-search-container"
        [@transitionMessages]="subscriptAnimationState">
        <a mat-icon-button
                *ngIf="expandable"
                id="adf-search-button"
            (click)="toggleSearchBar()"
            class="adf-search-button">
            <mat-icon aria-label="search button">search</mat-icon>
        </a>
        <div class="adf-search-field">
            <mat-form-field>
                <input
                    matInput
                    [type]="inputType"
                    [autocomplete]="getAutoComplete()"
                    data-automation-id="search_input"
                    #searchInput
                    id="searchControl"
                    [formControl]="searchControl"
                    [(ngModel)]="searchTerm"
                    (focus)="onFocus($event)"
                    (blur)="onBlur($event)"
                    (keyup.escape)="onEscape()"
                    (keyup.arrowdown)="onArrowDown()">
            </mat-form-field>
        </div>
    </div>
</form>
<adf-search-autocomplete
    #autocomplete
    *ngIf="liveSearchEnabled"
    [searchTerm]="liveSearchTerm"
    [rootNodeId]="liveSearchRoot"
    [resultType]="liveSearchResultType"
    [resultSort]="liveSearchResultSort"
    [maxResults]="liveSearchMaxResults"
    [highlight]="highlight"
    (fileSelect)="onFileClicked($event)"
    (searchFocus)="onAutoCompleteFocus($event)"
    (scrollBack)="onAutoCompleteReturn($event)"
    (cancel)="onAutoCompleteCancel($event)">
</adf-search-autocomplete>
