<span class="activiti-label mdl-badge" id="people-title"
      [attr.data-badge]="people?.length">{{ 'TASK_DETAILS.LABELS.PEOPLE' | translate }}</span>
<div *ngIf="!readOnly" id="addPeople" (click)="showDialog()" class="icon material-icons people__icon">add</div>
<div *ngIf="!readOnly" class="mdl-tooltip" data-mdl-for="addPeople">
    Add a person
</div>
<div class="menu-container" *ngIf="people?.length > 0">
    <activiti-people-list
        [users]="people"
        [actions]="true"
        (clickAction)="onClickAction($event)">
    </activiti-people-list>
</div>
<div *ngIf="people?.length === 0" id="no-people-label">
    {{ 'TASK_DETAILS.PEOPLE.NONE' | translate }}
</div>

<dialog class="mdl-dialog" id="add-people-dialog" #dialog>
    <h4 class="mdl-dialog__title" id="add-people-dialog-title">Involve User</h4>
    <div class="mdl-dialog__content add-people-dialog__content">
        <activiti-people-search (onSearch)="searchUser($event)"
                                (onRowClicked)="involveUser($event)"
                                [results]="peopleSearch$"
                                [iconImageUrl]="iconImageUrl" #activitipeoplesearch>

            <activiti-people-list
                [users]="activitipeoplesearch?.userList"
                [actions]="false"
                (onRowClicked)="activitipeoplesearch?.setCurrentUser($event)">
            </activiti-people-list>

        </activiti-people-search>
    </div>
    <div class="mdl-dialog__actions">
        <button type="button" id="close-people-dialog" (click)="closeDialog()" class="mdl-button close">
            {{'PEOPLE.DIALOG_CLOSE' | translate }}
        </button>
    </div>
</dialog>
