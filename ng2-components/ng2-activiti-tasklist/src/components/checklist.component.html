<div class="adf-checklist-control">
    <md-chip-list id="checklist-label">
        <span class="activiti-label">{{ 'TASK_DETAILS.LABELS.CHECKLIST' | translate }}</span>
        <md-chip class="adf-process-badge" color="accent" selected="true">{{checklist?.length}}</md-chip>
    </md-chip-list>


    <button md-icon-button *ngIf="!readOnly" mdTooltip="Add a checklist" id="add-checklist" class="adf-add-to-checklist-button" (click)="showDialog()">
        <md-icon>add</md-icon>
    </button>
</div>

<div class="adf-checklist-menu-container" *ngIf="checklist?.length > 0">
    <md-chip-list class="mat-chip-list-stacked">
        <md-chip id="check-{{check.id}}" class="adf-checklist-chip" *ngFor="let check of checklist">
            <span>{{check.name}}</span>
            <button md-icon-button type="button" class="adf-checklist-cancel-button" (click)="delete(check.id)">
                <md-icon *ngIf="!readOnly" id="remove-{{check.id}}" mdChipRemove>cancel</md-icon>
            </button>
        </md-chip>
    </md-chip-list>

</div>
<div *ngIf="checklist?.length === 0" id="checklist-none-message">
    {{ 'TASK_DETAILS.CHECKLIST.NONE' | translate }}
</div>

<dialog class="mdl-dialog" id="checklist-dialog" #dialog>
    <h4 class="mdl-dialog__title" id="add-checklist-title">New Check</h4>
    <div class="mdl-dialog__content">
        <md-input-container>
            <input mdInput placeholder="Name" [(ngModel)]="taskName" id="checklist-name"  data-automation-id="checklist-name">
        </md-input-container>
    </div>
    <div class="mdl-dialog__actions">
        <button type="button" id="add-check" (click)="add()" class="mdl-button">Add Checklist</button>
        <button type="button" id="close-check-dialog" (click)="cancel()" class="mdl-button close">Cancel</button>
    </div>
</dialog>
