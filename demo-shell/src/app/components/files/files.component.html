<div class="app-container">
    <div
        id="document-list-container"
        class="app-document-list-container">
            <adf-toolbar *ngIf="!disableDragArea" class="app-files-toolbar">
                <adf-toolbar-title>
                    <adf-breadcrumb root="Personal Files" [target]="documentList">
                    </adf-breadcrumb>
                </adf-toolbar-title>

                <div class="app-document-action-buttons">
                    <button
                        data-automation-id="create-new-folder"
                        mat-icon-button
                        [disabled]="!canCreateContent(documentList.folderNode)"
                        title="New folder"
                        (error)="openSnackMessageError($event)"
                        (success)="documentList.reload()"
                        [adf-create-folder]="currentFolderId">
                        <mat-icon>create_new_folder</mat-icon>
                    </button>
                    <button mat-icon-button
                            [disabled]="!hasSelection(documentList.selection)"
                            title="Download"
                            [adfNodeDownload]="documentList.selection">
                        <mat-icon>get_app</mat-icon>
                    </button>
                </div>
            </adf-toolbar>

            <div class="app-document-list-container-in-upload-drag-area app-document-list-container" [ngClass]="{'adf-sticky-document-list': stickyHeader }">
                <adf-document-list
                    #documentList
                    class="app-file-list-container"
                    [permissionsStyle]="permissionsStyle"
                    [currentFolderId]="currentFolderId"
                    [allowDropFiles]="allowDropFiles"
                    [selectionMode]="selectionMode"
                    [multiselect]="multiselect"
                    [node]="nodeResult"
                    [includeFields]="includeFields"
                    [sorting]="sorting"
                    [sortingMode]="sortingMode"
                    [showHeader]="showHeader"
                    [stickyHeader]="stickyHeader"
                    [headerFilters]="headerFilters"
                    [filterValue]="paramValues"
                    (error)="onNavigationError($event)"
                    (ready)="emitReadyEvent($event)"
                    (preview)="showFile($event)"
                    (folderChange)="onFolderChange($event)"
                    (name-click)="documentList.onNodeDblClick($any($event).detail?.node)"
                    (filterSelection)="onFilterSelected($event)">

                    <adf-custom-empty-content-template *ngIf="disableDragArea">
                        <div class="app-empty_template">
                            <div class="app-no-result-message">{{ 'SEARCH.NO_RESULT' | translate }}</div>
                        </div>
                    </adf-custom-empty-content-template>
                    <data-columns>
                        <data-column
                            key="$thumbnail"
                            type="image"
                            [sortable]="false">
                        </data-column>
                        <data-column
                            key="name"
                            sortingKey="name"
                            title="Display name"
                            class="adf-expand-cell-5">
                        </data-column>
                        <data-column
                            key="content.sizeInBytes"
                            title="Size"
                            type="fileSize"
                            sortingKey="sizeInBytes"
                            class="adf-ellipsis-cell">
                        </data-column>
                        <data-column
                            *ngIf="searchTerm"
                            key="search"
                            title="Search"
                            class="adf-expand-cell-3">
                            <ng-template let-entry="$implicit">
                                <div [innerHTML]="searchResultsHighlight(entry.row.node.entry.search) | highlight:searchTerm">
                                </div>
                            </ng-template>
                        </data-column>

                        <data-column
                            title="Created by"
                            key="createdByUser.displayName"
                            sortingKey="createdByUser"
                            class="adf-ellipsis-cell">
                        </data-column>
                        <data-column
                            title="Created"
                            key="createdAt"
                            sortingKey="createdAt"
                            type="date"
                            [format]="'timeAgo'"
                            class="adf-ellipsis-cell">
                        </data-column>

                    </data-columns>
                </adf-document-list>
            </div>
            <adf-pagination
                [target]="documentList"
                (changePageSize)="onChangePageSize($event)"
                (changePageNumber)="onChangePageNumber($event)"
                (nextPage)="onNextPage($event)"
                (prevPage)="onPrevPage($event)">
            </adf-pagination>
    </div>
</div>
