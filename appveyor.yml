# Test against this version of Node.js
branches:
  only:
    - master
    - development
    - dev-build-test

environment:
  nodejs_version: "6"

  matrix:
  - COMPONENT_NAME: ng2-components
  - COMPONENT_NAME: ng2-demo-shell

# Install scripts. (runs after repo cloning)
install:
  # Get the latest stable version of Node.js or io.js
  - ps: Install-Product node $env:nodejs_version
  # install module
  - IF %COMPONENT_NAME% EQU ng2-components (cd scripts && sh npm-build-all.sh -t)
  - IF %COMPONENT_NAME% EQU ng2-demo-shell (cd demo-shell-ng2 && npm install && npm run test || exit 1)

# Don't actually build.
build: off
